---
title: "VPNのいろいろ"
emoji: "🖋"
type: "tech"
topics: ["vpn"]
published: false
---

# 前書き

[ACCESS Advent Calender](https://qiita.com/advent-calendar/2021/access)の9日目は[@ten_takano](https://qiita.com/ten_takano)です。

*********************なんか前置き*********************

# そもそもVPNってなに？

この記事をご覧の方ならそれぐらい知っている！という方がほとんだとは思いますが、念の為まとめておきます。
VPN(Vertial Private Network)とはその名前の通り、仮想的にPrivate Networkを作るための技術やそれを実現するプロトコルスタックのことを指します。おそらくこんなケースで利用することがほとんどなのではないでしょうか。

- 外部に非公開なサーバーにプライベートネットワーク外からアクセスしたいとき
- 特定のIPアドレスからしかアクセスを許可していないサーバーにアクセスしたいとき
- フリーWi-Fiなどを利用しているがセキュリティが気になるとき（これが有効かどうかはさておき）

ちなみに私は１年のほとんどをリモートで仕事をしているので（お家サイコー！）、上記２つの目的のために日常的にVPNを利用しています。

VPNで接続されたネットワーク同士またはネットワークと端末は、あたかも同じPrivate Networkに接続されているかのように振る舞います。
普通のPrivate Networkに接続された端末を使用する場合を考えてみましょう。その端末では、Private Networkアドレスを使用して同じネットワークに接続されている別の端末を参照することができます。もしPrivate Network内にサーバーが立てられていたら、Private Networkアドレスを使用してそのサーバーへアクセスすることができます。端末から外部のサーバーへアクセスしようとしたら、NAT変換によって、そのPrivate Networkのゲートウェイを介してIPアドレスが変換されて目的のサーバーにアクセスされます。
では逆にインターネットから見た場合はどうでしょうか？Private Network内にあるサーバーには、ポートフォワーディングされていなければ直接アクセスすることはできません。Private Networkの構成がどのようになっているのかも知ることができません。また、言うまでもなく内部でどのような通信が行われているかも見ることはできません。
これらの特性を、物理的には同じPrivate Networkではないにもかかわらず、論理的に同じPrivate Networkとしてしまう機能を提供するのがVPNなのです。

これを実現するため、VPNは物理的にインターネットを情報が流れる際に、通信内容を暗号化・復号を行います。これにより第三者が通信内容を盗み見ようとしても復号ができないため、仮想的なPrivate Networkが実現されます。なので、

- 外部に非公開なサーバーでもVPNを接続すれば同じネットワーク内なのでアクセスすることができます
- アクセス制限がかけられているサーバーにも、接続元をVPNサーバーのあるネットワークのゲートウェイを通すことで制限を回避することができます
- フリーWi-Fiを利用している際に、VPNで通信を暗号化するため、通信を秘匿することが期待できます（設定による）

# あとがき

********************締めのなにか**********************

明日は[@krmtmint](https://qiita.com/krmtmint)さんの投稿です。お楽しみに！！
